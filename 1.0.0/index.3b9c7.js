window.__require=function e(t,n,o){function i(s,r){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){return i(t[s][1][e]||e)},p,p.exports,e,t,n,o)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({Banner111005801:[function(e,t,n){"use strict";cc._RF.push(t,"f2e42C00eZOrI50LCynPOaC","Banner111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([r],t)}(slot.SlotBanner));n.default=c,cc._RF.pop()},{}],BonusGame111005801:[function(e,t,n){"use strict";cc._RF.push(t,"b1db2tdMetMBafI9Q8CzqfD","BonusGame111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/GameEventName111005801"),r=e("../common/NumAtlasLabel111005801"),c=e("../roller/GameLayer111005801"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.clickNode=null,t.showNode=null,t.payout_windows=[],t.boards=[],t.lbl_countDown=null,t.lbl_countDown3=null,t.bSelectedPlayer=!1,t.nSelectedPlayerId=-1,t.nCountDown=30,t.nCountDown3=3,t.payout_window=null,t.arrRate={1:[20,100,1e3],2:[20,50,500],3:[20,40,300],4:[10,35,200],5:[10,30,150]},t._index=0,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){console.log("===\u5c0f\u6e38\u620f onload",this.bonusGameInfo),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGDATARESP,this.lgDataResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.lgActionResp,this),n.instance=this},t.prototype.start=function(){},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.log("fromUI------\x3e>>",e),this.lbl_countDown.string=this.nCountDown.toString(),cc.find("btn_start",this.root).on(cc.Node.EventType.TOUCH_END,this.onclick_start,this),this.changeScorezIndex(),this.initInfo(),this.showOpenAni()},t.prototype.onDestroy=function(){var e=this;this.unscheduleAllCallbacks(),this.boards.forEach(function(t){t.off(cc.Node.EventType.TOUCH_END,e.onclick_board,e)}),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGDATARESP,this.lgDataResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.lgActionResp,this)},t.prototype.initInfo=function(){},t.prototype.changeScorezIndex=function(){var e=slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.score),t=slot.MainView.instance.node.parent;t.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),e.parent=t,e.zIndex=101,e.setPosition(cc.v3(0,-642,0))},t.prototype.playFreeGameMusic=function(){slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0)},t.prototype.showOpenAni=function(){var e=this,t=cc.find("top_boards",this.root);t.active=!0;var n=cc.find("top_board",t),o=cc.find("bottom_board",t),i=cc.find("top_bg",t),a=cc.find("enter_effect",t),s=cc.tween(n).to(.5,{x:-100},{easing:"quadOut"}).to(.1,{x:0},{easing:"quadIn"}),r=cc.tween(o).to(.5,{x:100},{easing:"quadOut"}).to(.1,{x:0},{easing:"quadIn"}),c=cc.tween(n).to(.3,{y:700},{easing:"quadOut"}).to(.1,{y:658},{easing:"quadIn"}),l=cc.tween(o).to(.3,{y:-650},{easing:"quadOut"}).to(.1,{y:-620},{easing:"quadIn"});cc.tween(this.node).delay(.2).call(function(){s.start(),r.start()}).delay(1).call(function(){c.start(),l.start(),slot.SoundMger.instance.playEffect("FreeGame_OpenCurtain_Sound"),i.active=!1,a.active=!1,e.boards.forEach(function(t){t.on(cc.Node.EventType.TOUCH_END,e.onclick_board,e),t.getChildByName("img").active=!1,t.getChildByName("skel").active=!0,t.getChildByName("xze").active=!0,t.getChildByName("skel").getComponent(sp.Skeleton).setAnimation(0,"selection_idle",!0),t.getChildByName("xze").getComponent(sp.Skeleton).setAnimation(0,"xze_lightbox",!0),t.getChildByName("xze").getComponent(sp.Skeleton).premultipliedAlpha=!0})}).call(function(){e.playFreeGameMusic(),e.startCountDown()}).start()},t.prototype.onclick_board=function(e){var t=this;this.payout_window&&(this.payout_window.active=!1),this.boards.forEach(function(n){if(n==e.currentTarget){if(null!=t.payout_window&&t.nSelectedPlayerId==t.boards.indexOf(n)+1)return void t.elementView(n,!0);t.footballAni(t.boards.indexOf(n)+1),t.nSelectedPlayerId=t.boards.indexOf(n)+1,slot.SoundMger.instance.playEffect("FreeGame_Click_Sound",!1),slot.SoundMger.instance.playEffect("FreeGame_Click_After_Sound",!1),t.elementView(n)}else n.getChildByName("skel").active=!1,n.getChildByName("xze").active=!1,n.getChildByName("img").active=!0,n.opacity=100,n.setParent(t.clickNode)})},t.prototype.elementView=function(e,t){if(e.getChildByName("xze").active=!1,e.getChildByName("skel").active=!0,e.getChildByName("img").active=!1,e.opacity=255,e.setParent(this.showNode),this.payout_window=3===this.nSelectedPlayerId||5===this.nSelectedPlayerId?this.payout_windows[1]:this.payout_windows[0],this.payout_window.setPosition(e.position),this.payout_window.active=!0,!t){e.getChildByName("skel").getComponent(sp.Skeleton).setAnimation(0,"selection",!1),e.getChildByName("skel").getComponent(sp.Skeleton).setCompleteListener(function(){e.getChildByName("skel").getComponent(sp.Skeleton).setAnimation(0,"selection_idle",!0)});var n=cc.find("shuihua",this.payout_window).getComponent(cc.Animation),o=n.getClips()[this.nSelectedPlayerId-1].name;n.play(o);for(var i=0;i<3;i++)cc.find("right/pack".concat((i+1).toString()).concat("/num"),this.payout_window).getComponent(r.default).string=String(this.arrRate[this.nSelectedPlayerId][i])}},t.prototype.onclick_start=function(){var e=this;if(-1!==this.nSelectedPlayerId){var t=cc.find("btn_start",this.root),n=cc.find("btn_start/start",this.root),o=cc.find("btn_start/start_press",this.root),i=cc.find("btn_start/xze",this.root);if(i.active=!0,i.getComponent(sp.Skeleton).setAnimation(0,"xze_front",!1),slot.SoundMger.instance.playEffect("FreeGame_Start_Buuton",!1),console.log("this.bSelectedPlayer----",this.bSelectedPlayer),!1===this.bSelectedPlayer){switch(this.nSelectedPlayerId){case 1:slot.SoundMger.instance.playEffect("FreeGame_Gold_Voice");break;case 2:slot.SoundMger.instance.playEffect("FreeGame_Red_Voice");break;case 3:slot.SoundMger.instance.playEffect("FreeGame_Purple_Voice");break;case 4:slot.SoundMger.instance.playEffect("FreeGame_Blue_Voice");break;case 5:slot.SoundMger.instance.playEffect("FreeGame_Green_Voice")}this.bSelectedPlayer=!0,this.boards.forEach(function(i){if(e.nSelectedPlayerId!=e.boards.indexOf(i)+1)i.active=!1;else{var a=-98;1==e.nSelectedPlayerId||2==e.nSelectedPlayerId||4==e.nSelectedPlayerId?a=-98:3!=e.nSelectedPlayerId&&5!=e.nSelectedPlayerId||(a=98),cc.tween(i).to(.3,{position:new cc.Vec3(a,-70)}).start(),cc.tween(e.payout_window).to(.3,{position:new cc.Vec3(a,-70)}).start(),i.opacity=255,cc.tween(t).to(.1,{scale:.8}).to(.1,{scale:.6}).call(function(){t.off(cc.Node.EventType.TOUCH_END,e.onclick_start,e),n.active=!1,o.active=!0,cc.tween(o).set({opacity:255}).to(.1,{opacity:200}).to(.1,{opacity:150}).to(.1,{opacity:100}).to(.1,{opacity:50}).to(.1,{opacity:0}).call(function(){n.active=!1,e.updateFinallCountDown()}).start()}).to(.1,{scale:.8}).to(.1,{scale:1}).start()}})}else this.operate([this.nSelectedPlayerId]);n.active=!this.bSelectedPlayer,o.active=this.bSelectedPlayer}},t.prototype.footballAni=function(e,t){var n=this,o=cc.find("btn_start",this.root);o.active=!0;var i=cc.find("football",o),a=cc.find("start_effect",o),s=cc.find("start",o),r=cc.find("xze",o),c=function(){n.nCountDown<=0&&n.unschedule(c),cc.tween(s).set({active:!0}).to(.25,{angle:-25}).to(.5,{angle:25}).to(.25,{angle:0}).start()};this.schedule(c,1.5,cc.macro.REPEAT_FOREVER,.5);var l=function(){cc.tween(i).to(n.nCountDown,{angle:360*n.nCountDown}).start(),cc.tween(a).set({active:!0,opacity:0}).to(.1,{opacity:50}).to(.1,{opacity:100}).to(.1,{opacity:150}).to(.1,{opacity:200}).to(.1,{opacity:255}).start(),cc.tween(s).set({opacity:0}).to(.1,{opacity:50}).to(.1,{opacity:100}).to(.1,{opacity:150}).to(.1,{opacity:200}).to(.1,{opacity:255}).start(),r.active=!0,t&&1==t?(slot.SoundMger.instance.playEffect("FreeGame_Auto Choose",!1),r.getComponent(sp.Skeleton).setAnimation(0,"xze",!1),r.getComponent(sp.Skeleton).setCompleteListener(function(){r.getComponent(sp.Skeleton).setCompleteListener(null),n.onclick_start()})):r.getComponent(sp.Skeleton).setAnimation(0,"xze_back",!0)};switch(e){case 1:cc.tween(i).set({opacity:50,position:cc.v3(0,200,0)}).to(.1,{opacity:100,position:cc.v3(0,140,0)}).to(.1,{opacity:150,position:cc.v3(0,80,0)}).to(.1,{opacity:200,position:cc.v3(0,20,0)}).to(.1,{opacity:250,position:cc.v3(0,-40,0)}).to(.1,{opacity:255,position:cc.v3(0,0,0)}).call(l).start();break;case 2:cc.tween(i).set({opacity:50,position:cc.v3(-100,220,0)}).to(.1,{opacity:100,position:cc.v3(-70,160,0)}).to(.1,{opacity:150,position:cc.v3(-40,100,0)}).to(.1,{opacity:200,position:cc.v3(-10,40,0)}).to(.1,{opacity:250,position:cc.v3(20,-20,0)}).to(.1,{opacity:255,position:cc.v3(0,0,0)}).call(l).start();break;case 3:cc.tween(i).set({opacity:50,position:cc.v3(100,220,0)}).to(.1,{opacity:100,position:cc.v3(70,160,0)}).to(.1,{opacity:150,position:cc.v3(40,100,0)}).to(.1,{opacity:200,position:cc.v3(10,40,0)}).to(.1,{opacity:250,position:cc.v3(-20,-20,0)}).to(.1,{opacity:255,position:cc.v3(0,0,0)}).call(l).start();break;case 4:cc.tween(i).set({opacity:50,position:cc.v3(-100,100,0)}).to(.1,{opacity:100,position:cc.v3(-70,70,0)}).to(.1,{opacity:150,position:cc.v3(-40,40,0)}).to(.1,{opacity:200,position:cc.v3(-10,10,0)}).to(.1,{opacity:250,position:cc.v3(20,-20,0)}).to(.1,{opacity:255,position:cc.v3(0,0,0)}).call(l).start();break;case 5:cc.tween(i).set({opacity:50,position:cc.v3(100,100,0)}).to(.1,{opacity:100,position:cc.v3(70,70,0)}).to(.1,{opacity:150,position:cc.v3(40,40,0)}).to(.1,{opacity:200,position:cc.v3(10,10,0)}).to(.1,{opacity:250,position:cc.v3(-20,-20,0)}).to(.1,{opacity:255,position:cc.v3(0,0,0)}).call(l).start()}},t.prototype.updateFinallCountDown=function(){cc.find("top_boards/bottom_board",this.root).active=!1,this.startCountDown3()},t.prototype.randomLightPlayer=function(){var e=this;this._index+=1;var t=Math.floor(5*Math.random());this.boards.forEach(function(n){e.boards.indexOf(n)==t?(11==e._index&&(e.nSelectedPlayerId=e.boards.indexOf(n)+1,e.elementView(n),e.footballAni(e.nSelectedPlayerId,!0),e.unschedule(e.CountDown30)),n.setParent(e.showNode),n.opacity=255):(n.opacity=100,n.setParent(e.clickNode))})},t.prototype.setBoardEffect=function(){this.boards.forEach(function(e){e.getChildByName("img").active=!1,e.getChildByName("xze").active=!1})},t.prototype.countDown30=function(){var e=this;this.nCountDown-=1,this.nCountDown<=10&&this.nCountDown>0&&(slot.SoundMger.instance.playEffect("FreeGame_Countdown10",!1),cc.tween(this.lbl_countDown.node).to(.1,{scale:1.3}).to(.1,{scale:1}).start()),this.nCountDown>10&&this.nCountDown<=30&&slot.SoundMger.instance.playEffect("FreeGame_Countdown30",!1),0==this.nCountDown&&(this.unschedule(this.countDown30),-1==this.nSelectedPlayerId?(this.setBoardEffect(),this.schedule(function(){slot.SoundMger.instance.playEffect("main_game_audio7",!1),e.randomLightPlayer()},.1,10)):this.onclick_start()),this.nCountDown<0&&(this.unschedule(this.CountDown30),this.nCountDown=0),this.lbl_countDown.string=this.nCountDown.toString()},t.prototype.countDown3=function(){this.nCountDown3<=0?(this.unschedule(this.countDown3),this.nCountDown3=0,this.operate([this.nSelectedPlayerId])):slot.SoundMger.instance.playEffect("FreeGame_Countdown3",!1),0==this.nCountDown3?this.lbl_countDown3.string="":this.lbl_countDown3.string=this.nCountDown3.toString(),this.nCountDown3<=3&&this.nCountDown3>0&&cc.tween(this.lbl_countDown3.node).set({active:!0}).to(.05,{scale:3.1}).to(.05,{scale:2.7}).to(.05,{scale:2.3}).start(),this.nCountDown3-=1},t.prototype.startCountDown=function(){this.schedule(this.countDown30,1)},t.prototype.startCountDown3=function(){this.countDown3(),this.schedule(this.countDown3,.6)},t.prototype.lgActionResp=function(){var e=this;if(cc.log("===\u5c0f\u6e38\u620f lgActionResp",this.bonusGameInfo),2===this.bonusGameInfo.nextState.state)return this.scheduleOnce(function(){e.next(),c.default.instance.bPending=!0,slot.SpinManager.instance.spinTouchEnable=!1,e.onDestroy()},1),game.EventManager.getInstance().raiseEvent(s.EventName.FREE_GAME_ROLE_NODE,{roleId:this.nSelectedPlayerId,isNeedCardAni:!0}),void this.onClose()},t.prototype.lgDataResp=function(e,t){console.log("===\u5c0f\u6e38\u620f lgDataResp:",t)},t.prototype.onClose=function(){var e=this;console.log("\u5c0f\u6e38\u620f\u5173\u95ed------------"),cc.tween(this.root).to(.2,{opacity:200}).to(.2,{opacity:150}).to(.2,{opacity:100}).to(.2,{opacity:50}).to(.2,{opacity:0}).call(function(){e.root.active=!1}).start()},a([u(cc.Node)],t.prototype,"root",void 0),a([u(cc.Node)],t.prototype,"clickNode",void 0),a([u(cc.Node)],t.prototype,"showNode",void 0),a([u(cc.Node)],t.prototype,"payout_windows",void 0),a([u(cc.Node)],t.prototype,"boards",void 0),a([u(r.default)],t.prototype,"lbl_countDown",void 0),a([u(r.default)],t.prototype,"lbl_countDown3",void 0),n=a([p],t)}(slot.AbstractBonusGameView);n.default=d,cc._RF.pop()},{"../common/GameEventName111005801":"GameEventName111005801","../common/NumAtlasLabel111005801":"NumAtlasLabel111005801","../roller/GameLayer111005801":"GameLayer111005801"}],BonusRoler111005801:[function(e,t,n){"use strict";cc._RF.push(t,"cbaf6XROxtAAYVxjMVsSgRd","BonusRoler111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/GameEventName111005801"),r=e("../roller/GameLayer111005801"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skel_role=null,t.skel_bg=null,t.skel_focus=null,t}return i(t,e),t.prototype.onLoad=function(){this.addEventListener()},t.prototype.onDestroy=function(){this.unschedule(this.ske_roleAct),this.removeEventListener()},t.prototype.init=function(e,t){var n=this;this.playBgAni(e),console.log("isNeedCardAni-------------\x3e",e,t),slot.SoundMger.instance.playEffect("general_audio".concat(String(e+5)),!1);var o="skeleton/character/f_p"+e+"_atlas_bonus/f_p"+e+"_atlas_bonus";game.ResLoader.getInstance().loadRes(o,sp.SkeletonData,function(e,t){if(e)return e;n.skel_role.clearTracks(),n.skel_role.skeletonData=t,n.skel_role.setAnimation(0,"enter",!1),n.skel_role.setCompleteListener(function(){n.skel_role.setAnimation(0,"idle",!0)})},slot.GData.bundleName),setTimeout(this.ske_roleAct,200),this.schedule(this.ske_roleAct,14),1==t&&game.ResLoader.getInstance().loadRes("textures/slotMachine/card/normal_symbol",cc.SpriteAtlas,function(t,n){if(t)return t;var o=3e3,i=150;1==slot.SpinManager.instance.isInTurbo&&(o=2500,i=80),setTimeout(function(){var t=n.getSpriteFrame("h_p"+e);if(t){var o=0,a=function(){if(!(++o<=18))return r.default.instance.scrollerMask.active=!1,r.default.instance.scrollerEffect.active=!1,slot.SlotMachineView.instance.scroller.continuePendingTask(),void(slot.SpinManager.instance.spinTouchEnable=!0);setTimeout(a,i);var e=150*Math.floor(5*Math.random())-450,n=new cc.Node;n.addComponent(cc.Sprite).spriteFrame=t,n.setParent(cc.find("Canvas")),n.setPosition(new cc.Vec3(150,510)),cc.tween(n).set({opacity:50}).by(.1,{position:new cc.Vec3(e/3,-20),opacity:100},{easing:"quadOut"}).by(.1,{position:new cc.Vec3(2*e/3,-100),opacity:200},{easing:"quadIn"}).by(.2,{y:-600,opacity:255}).call(function(){n.active=!1,n.destroy()}).start()};setTimeout(a,i)}},o)},slot.GData.bundleName)},t.prototype.ske_roleAct=function(){var e=this;null==this.skel_role&&null==this.skel_role||cc.tween(this.skel_role.node).to(4,{position:cc.v3(28,-52,0)},{easing:"quadOut"}).to(2,{scale:1.15}).call(function(){e.skel_focus.node.active=!0,e.skel_focus.setAnimation(0,"bg_lightline_loop",!1),e.skel_focus.setCompleteListener(function(){e.skel_focus.setCompleteListener(null),e.skel_focus.node.active=!1})}).to(1,{scale:.95}).to(1,{scale:1.2}).call(function(){e.skel_focus.node.active=!0,e.skel_focus.setAnimation(0,"bg_lightline_loop",!1),e.skel_focus.setCompleteListener(function(){e.skel_focus.setCompleteListener(null),e.skel_focus.node.active=!1})}).to(2,{scale:.95}).to(4,{position:cc.v3(58,-52,0),scale:.9},{easing:"quadOut"}).start()},t.prototype.playBgAni=function(e){switch(e){case 1:this.skel_bg.setAnimation(0,"bg_gold",!0),slot.SoundMger.instance.playEffect("FreeGame_Gold_Sound");break;case 2:this.skel_bg.setAnimation(0,"bg_rde",!0),slot.SoundMger.instance.playEffect("FreeGame_Red_Sound");break;case 3:this.skel_bg.setAnimation(0,"bg_purple",!0),slot.SoundMger.instance.playEffect("FreeGame_Purple_Sound");break;case 4:this.skel_bg.setAnimation(0,"bg_bule",!0),slot.SoundMger.instance.playEffect("FreeGame_Blue_Sound");break;case 5:this.skel_bg.setAnimation(0,"bg_green",!0),slot.SoundMger.instance.playEffect("FreeGame_Green_Sound")}},t.prototype.playWinAni=function(){var e=this;this.skel_role.setAnimation(0,"win",!1),this.skel_role.setCompleteListener(function(){e.skel_role.setAnimation(0,"idle",!0)})},t.prototype.addEventListener=function(){game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_MULTIPLE,this.playWinAni,this)},t.prototype.removeEventListener=function(){game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_MULTIPLE,this.playWinAni,this)},a([p(sp.Skeleton)],t.prototype,"skel_role",void 0),a([p(sp.Skeleton)],t.prototype,"skel_bg",void 0),a([p(sp.Skeleton)],t.prototype,"skel_focus",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/GameEventName111005801":"GameEventName111005801","../roller/GameLayer111005801":"GameLayer111005801"}],FreeGameResult11005801:[function(e,t,n){"use strict";cc._RF.push(t,"41bcdBe8kxK4IjQCvkeoN95","FreeGameResult11005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/NumAtlasLabel111005801"),r=e("../roller/GameLayer111005801"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.button=null,t.clickNode=null,t.twBoard=null,t.freeTimes=null,t.behindAni=null,t.frontAni=null,t.starPc3=null,t.btnEffect=null,t.callBack=null,t.closeTween=null,t.numTween=null,t.win=0,t._winMoney=0,t}return i(t,e),t.prototype.onOpen=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];cc.log("=====onOpen"),slot.SoundMger.instance.playEffect("Free_Game_Settlement",!0),this.freeTimes.getComponent(s.default).string=String(r.default.instance.arrFreeTimesById[r.default.instance.nSelectedPlayerId-1]),this.behindAni.active=!0;var i=this.behindAni.getComponent(sp.Skeleton);i.premultipliedAlpha=!0,i.setAnimation(0,"win_back_fadein",!1),i.setCompleteListener(function(){i.setCompleteListener(null),i.setAnimation(0,"win_back_loop",!0)}),this.frontAni.active=!0;var a=this.frontAni.getComponent(sp.Skeleton);a.premultipliedAlpha=!0,a.setAnimation(0,"win_front",!0),this.node.active=!0,this.callBack=n[0][0],this.win=n[0][1];var c=n[0][1];this.clickNode.on("click",this.onClickAll,this),this.clickNode.getComponent(cc.Button).interactable=!0,this.button.on(cc.Node.EventType.MOUSE_ENTER,this.playBtnEffect,this),this.button.on(cc.Node.EventType.MOUSE_LEAVE,this.stopBtnEffect,this),this.winMoney=0,0!==c?(this.button.active=!1,slot.SoundMger.instance.playEffect("FreeGame_Number_Scrolling"),this.numTween=cc.tween(this).to(2,{winMoney:c}).call(function(){slot.SoundMger.instance.playEffect("FreeGame_Number_Stop"),slot.SoundMger.instance.stopEffect("Free_Game_Settlement"),slot.SoundMger.instance.playEffect("FreeGame_Settlement2",!1)}).start()):this.onTween(),this.button.on("click",this.onClickButtonNode,this),this.closeTween&&this.closeTween.stop(),this.closeTween=cc.tween(this).delay(8).call(function(){t.onClickButtonNode()}).start()},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=e,this.label.getComponent(s.default).string=slot.SlotUtils.formatNumber(e),e==this.win&&this.onTween()},enumerable:!1,configurable:!0}),t.prototype.onTween=function(){this.button.active=!0,this.button.scale=.2,cc.tween(this.button).to(.3,{scale:1}).start(),cc.tween(this.twBoard).to(.2,{scale:1.5}).to(.1,{scale:1}).start(),this.frontAni.active=!1},t.prototype.playBtnEffect=function(){var e=this;this.btnEffect.active=!0,this.schedule(function(){cc.tween(e.btnEffect).set({opacity:0}).to(.15,{scale:1.1,opacity:45}).to(.15,{scale:1.2,opacity:90}).to(.15,{scale:1.3,opacity:140}).to(.15,{scale:1.2,opacity:90}).to(.15,{scale:1.1,opacity:45}).to(.15,{scale:1,opacity:0}).start()},.15*6,cc.macro.REPEAT_FOREVER)},t.prototype.stopBtnEffect=function(){this.btnEffect.stopAllActions(),this.btnEffect.scale=1,this.btnEffect.active=!1},t.prototype.onClickButtonNode=function(){var e=this;cc.log("=====\u5173\u95edonClickButtonNode"),slot.SoundMger.instance.playEffect("Prize_Button_Sound",!1),this.starPc3.active=!0,this.starPc3.getComponent(cc.ParticleSystem).resetSystem(),this.starPc3.getComponent(cc.ParticleSystem).custom=!0,this.btnEffect.scale=1,this.btnEffect.active=!1,setTimeout(function(){game.UIManager.getInstance().close(e)},1e3)},t.prototype.onClose=function(){cc.log("=====\u5173\u95edonClose"),this.node.active=!1,this.btnEffect.active=!1,this.closeTween&&this.closeTween.stop(),this.closeTween=null,this.callBack&&this.callBack.run(),this.button.off(cc.Node.EventType.MOUSE_ENTER,this.playBtnEffect,this),this.button.off(cc.Node.EventType.MOUSE_LEAVE,this.stopBtnEffect,this),this.button.off("click",this.onClickButtonNode,this),this.clickNode.off("click",this.onClickAll,this),this.behindAni.stopAllActions(),this.frontAni.stopAllActions(),this.unscheduleAllCallbacks(),slot.SoundMger.instance.stopEffect("Free_Game_Settlement")},t.prototype.onClickAll=function(){cc.log("=====onClickAll"),this.clickNode.getComponent(cc.Button).interactable=!1,this.numTween&&this.numTween.stop(),this.numTween=null,this.label.getComponent(s.default).string=slot.SlotUtils.formatNumber(this.win),this.onTween()},a([p(cc.Node)],t.prototype,"label",void 0),a([p(cc.Node)],t.prototype,"button",void 0),a([p(cc.Node)],t.prototype,"clickNode",void 0),a([p(cc.Node)],t.prototype,"twBoard",void 0),a([p(cc.Node)],t.prototype,"freeTimes",void 0),a([p(cc.Node)],t.prototype,"behindAni",void 0),a([p(cc.Node)],t.prototype,"frontAni",void 0),a([p(cc.Node)],t.prototype,"starPc3",void 0),a([p(cc.Node)],t.prototype,"btnEffect",void 0),a([l],t)}(game.UIView);n.default=u,cc._RF.pop()},{"../common/NumAtlasLabel111005801":"NumAtlasLabel111005801","../roller/GameLayer111005801":"GameLayer111005801"}],GameBg111005801:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},a([r],t)}(slot.BaseView));n.default=c,cc._RF.pop()},{}],GameEventName111005801:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111005801"),Object.defineProperty(n,"__esModule",{value:!0}),n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.BONUS_GAME_START="BONUS_GAME_START",e.FREE_GAME_ROLE_NODE="FREE_GAME_ROLE_NODE",e.FREE_GAME_SPIN_BEGIN="FREE_GAME_SPIN_BEGIN",e.FREE_GAME_SPIN_STOP="FREE_GAME_SPIN_STOP",e.FREE_GAME_MULTIPLE="FREE_GAME_MULTIPLE",e.EVENT_PLAYER_CHANGE="EVENT_PLAYER_CHANGE"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),cc._RF.pop()},{}],GameLayer111005801:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../bonusGame/BonusGame111005801"),r=e("../common/GameEventName111005801"),c=e("../common/Shake"),l=e("../main/Main111005801"),p=e("./GameRoller111005801"),u=e("./scrollerSkins/GameLogic111005801"),d=e("./scrollerSkins/JTChildManager111005801"),h=e("./scrollerSkins/JTLayerManager111005801"),f=cc._decorator,_=f.ccclass,y=f.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winNode=null,t.freeBottomNode=null,t.freeBottomFinallyNode=null,t.xinxiNode=null,t.bannerNode=null,t.fiveEvenNode=null,t.scrollerEffect=null,t.scrollerMask=null,t.playerChangeEffect=null,t.winLiziNode=null,t.isFreeRestoreBanner=!1,t.nSelectedPlayerId=-1,t.isRestoreBonus=!1,t.isRestoreFree=!1,t.isRestore=!1,t.firstFreeGame=!1,t.gridChanged=null,t.isScatter_12=!1,t.isScatter_123=!1,t.isTriggerFeeeGame=!1,t.isNeedCardAni=!1,t.arrFreeTimesById=[4,6,8,10,12],t.curFreeTimes=-1,t.arrSelectIdByServerId={37:1,38:2,39:3,40:4,41:5},t.uniteGrid=null,t.winCoin=0,t.restoreResult=null,t.isActiveRestore=!1,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.ChangeSpeedTask=null,t._spinAniViews=[],t.isPlaySound=!1,t._win5Money=0,t.sumtimes=0,t.bounsGamePrefab=null,t.bounsGamePrefabNode=null,t._winMoney=0,t}var n;return i(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this),console.log("game111005801 onload"),n._instance=this,game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this.spinresp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.restoreresp,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.onReEnterRoom,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.stopImmediatly,this),window.GameLayer111005801=n,window.gamelayer=this},t.prototype.onDestroy=function(){this.dispose()},t.prototype.start=function(){this.freeBottomNode.active=!1,this.freeBottomFinallyNode.active=!1,this.winNode.active=!1,this.fiveEvenNode.active=!1},t.prototype.spinresp=function(e,t){if(t){this.uniteGrid=t.updateList[0].value.handleState.game_10044.data.uniteGrid,this.gridChanged=t.spinResult.gridChanged,this.isScatter_12=this.judgeScatter_12(this.gridChanged),this.isScatter_123=this.judgeScatter_123(this.gridChanged);var o=1,i=-1;t.nextState?(o=t.state,i=t.nextState.state):(o=t.state,i=-1),this.curFreeTimes==this.arrFreeTimesById[this.nSelectedPlayerId-1]?this.firstFreeGame=!0:this.firstFreeGame=!1,4==i&&(this.isTriggerFeeeGame=!0),2==o&&Number(t.spinResult.spinCoin)>0&&(this.isFreeRestoreBanner=!0),this.changeScrollerTime(),n.instance.bPending&&(n.instance.bPending=!1,slot.SlotMachineView.instance.scroller.setOncePendingSchedule())}},t.prototype.restoreresp=function(e,t){if(t){this.restoreResult=t;var n=t.state.state;console.log("result---------restoreresp",n,t),this.uniteGrid=t.state.normalData.handleState.game_10044.data.uniteGrid,this.isScatter_123=this.judgeScatter_123(t.state.normalData.spinInfo.spinResult.gridChanged),this.winCoin=Number(t.state.normalData.spinInfo.spinResult.spinCoin),2==n?(this.nSelectedPlayerId=this.arrSelectIdByServerId[t.state.freeData.id],this.isRestoreFree=!0,this.winCoin>0&&(this.isFreeRestoreBanner=!0)):1==n?this.isRestore=!0:4==n&&(this.isScatter_123=!0,this.isRestoreBonus=!0,this.firstFreeGame=!0)}},t.prototype.refreshRoom=function(){console.log("refreshRoom--------\x3e",slot.FreeGameManager.instance.hasFreeGame);for(var e=0;e<this.scroller.items.length;e++)for(var t=this.scroller.items[e],n=0;n<t.items.length;n++){var o=t.items[n];12!=o.data&&11!=o.data||!o.active||o.onRollEnd()}},t.prototype.onReEnterRoom=function(){console.log("\u4e3b\u52a8\u91cd\u8fde\u8fdb\u5165\u623f\u95f4------\x3e>>",slot.SpinManager.instance.rollingResult),this.isActiveRestore=!0},t.prototype.stopImmediatly=function(){console.log("\u6eda\u8f74\u6025\u505c-------\x3e>>")},t.prototype.judgeScatter_12=function(e){for(var t=!1,n=!1,o=!1,i=4;i<8;i++)if(11==e[i]){t=!0;break}for(var a=8;a<12;a++)if(11==e[a]){n=!0;break}return 1==t&&1==n&&(o=!0),o},t.prototype.judgeScatter_123=function(e){for(var t=!1,n=!1,o=!1,i=!1,a=4;a<8;a++)if(11==e[a]){t=!0;break}for(var s=8;s<12;s++)if(11==e[s]){n=!0;break}for(s=12;s<16;s++)if(11==e[s]){o=!0;break}return 1==t&&1==n&&1==o&&(i=!0),i},t.prototype.judgeScatter=function(e,t){for(var n=!1,o=4*t;o<4*t+4;o++)if(11==e[o]){n=!0;break}return n},t.prototype.playFreeGameFrontMusic=function(){slot.SoundMger.instance.playEffect("Scatter",!1),this.isTriggerFeeeGame=!1},t.prototype.playFreeGameMusic=function(){slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0)},t.prototype.onScrollerFlowComplete=function(){var e=this.nSelectedPlayerId+1||1;slot.FreeGameManager.instance.hasFreeGame&&this.slotMachine.scroller.changeDataMode(!0,e)},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit")},t.prototype.onInitScroller=function(e){var t=this.scroller=e.scroller,n=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);t.setupFactory(new h.default,new d.default,new u.default);var o=t.options(slot.JTScrollingPipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,n.column,e.scrollingComplete);o.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),o.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),o.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),o.childOption(slot.JTOverScrolling,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),t.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1,this.getFreeSourceList),slot.JTDefaultItemRender.setPlayCoinIndex(2,7),this.scatterTask=new slot.JTScatterTask,this.scatterTask.config(11,[{index:1,id:11},{index:2,id:11}],"5-30-1",0,1e3,"animations/cardAni/gunzhou",!0,null,function(e){cc.log("======\u5206\u6563\u52a0\u901f\u56de\u8c03",e.index),console.log("s.skinLoader---------\x3e",e.skinLoader.parent.name),slot.GameControlBase.instance.ctlBtn.getComponent(cc.Button).interactable=!1,e.skinLoader.aniName="fadein",e.skinLoader.x=e.x+80,e.skinLoader.y=-310},slot.JTScatterTask.APPOINT_MODE,[3],!1,!0),t.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer),this.scatterTask.onScatterComplte=function(e){cc.log("======\u5206\u6563\u505c\u6b62\u56de\u8c03",e.index),3==e.index&&(e.skinLoader.active=!1),4==e.index&&(slot.SoundMger.instance.playEffect("Reel_Quick_Stop"),slot.GameControlBase.instance.ctlBtn.getComponent(cc.Button).interactable=!0)},this.slotMachine.playRenderInterval=0},t.prototype._initSlotMachineView=function(){this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=150,this.slotMachine.gridHeight=150,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0},t.prototype.playFullLine=function(){var e,t=this;if(this.fiveEvenNode){this.fiveEvenNode.active=!0,this.fiveEvenNode.getChildByName("skeleton").getComponent(sp.Skeleton).setAnimation(0,"5win",!1),slot.SoundMger.instance.playEffect("Five_Prize");var n=this.fiveEvenNode.getChildByName("5ofakind");n.scale=0,n.opacity=255,null===(e=this.tw_fiveofkind)||void 0===e||e.stop(),this.tw_fiveofkind=cc.tween(n).delay(.2).to(.2,{scale:.6}).to(.8,{scale:.8,opacity:0}).call(function(){t.fiveEvenNode.active=!1}).start()}},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinBegin(this,this._onSpinBegin),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete)},t.prototype.beforeScrollerStartRolling=function(){console.log("beforeScrollerStartRolling-----\x3e>>",this.winCoin),cc.Tween.stopAllByTarget(this),this.win5Money=this.winCoin},t.prototype._onSpinBegin=function(){console.log("_onSpinBegin------\x3e>>"),this.isPlaySound=!1,this.isActiveRestore=!1,this.isRestore=!1,this.isRestoreFree=!1,this.isRestoreBonus=!1;var e=slot.PlayerManager.instance.showCoin,t=slot.SpinManager.instance.betCost;this.hideAni_bbk(),this.winNode.active=!1,this.bannerNode.active=!0,this.freeBottomNode.active&&slot.SoundMger.instance.playEffect("FreeGame_Reel_Spin"),e<t?game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,0):(slot.SpinManager.instance.isInTurbo||slot.SoundMger.instance.playEffect("main_game_audio89",!0),slot.FreeGameManager.instance.hasFreeGame?(console.log("isFreeRestoreBanner------------\x3e",this.isFreeRestoreBanner,this.firstFreeGame,this.nSelectedPlayerId),1==this.firstFreeGame?(game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,this.nSelectedPlayerId),this.firstFreeGame=!1):1==this.isFreeRestoreBanner&&(this.bannerNode.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_START),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,this.nSelectedPlayerId),this.isFreeRestoreBanner=!1),game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_SPIN_BEGIN)):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,0))},t.prototype._onSpinComplete=function(){slot.SpinManager.instance.isInTurbo||slot.SoundMger.instance.stopEffect("main_game_audio89"),slot.FreeGameManager.instance.isTreateFromFreeGame&&game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_SPIN_STOP)},t.prototype._onSpinStop=function(e){if(!(slot.PlayerManager.instance.showCoin<slot.SpinManager.instance.betCost)){1==slot.SpinManager.instance.isInTurbo?4==e&&slot.SoundMger.instance.playEffect("general_audio99",!1):slot.SoundMger.instance.playEffect("menu_icon_press",!1),3==e&&(this.isTriggerFeeeGame&&1==this.isTriggerFeeeGame?(slot.SoundMger.instance.stopMusic("Reel_Quick"),this.playFreeGameFrontMusic()):slot.SoundMger.instance.stopMusic("Reel_Quick"));for(var t=this.scroller.items[e],o=0;o<t.items.length;o++){var i=t.items[o];12==i.data&&i.active?slot.SoundMger.instance.playEffect("Wild_Appear_Sound",!1):11==i.data&&i.active&&(slot.SoundMger.instance.playEffect("Scatter_Appear_Sound",!1),1==this.judgeScatter(this.gridChanged,e)&&i.showBoomAni(),this.isScatter_123&&1==this.isScatter_123&&n.instance.checkScatterBox(!0,e))}}},t.prototype._onSpinStart=function(e){n.instance.checkScatterBox(!1,e),n.instance.checkScatterBoom(e),2==e&&1==this.isScatter_12&&slot.SoundMger.instance.playMusic("Reel_Quick",!1),this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni()},t.prototype._clearSpinReelAni=function(){},t.prototype.switchWinText=function(e){var t="textures/ui/&/general_text";t=t.replace("&",slot.GData.curLanguage);var n=this.winNode.children[0].getComponent(cc.Sprite);game.ResLoader.getInstance().loadRes(t,cc.SpriteAtlas,function(t,o){if(t)return t;var i=o.getSpriteFrame("win");e&&1==e&&(i=o.getSpriteFrame("total_win")),n.spriteFrame=i},slot.GData.bundleName)},t.prototype.changeWinLizizIndex=function(){var e=this.winLiziNode;e.active=!0;var t=slot.MainView.instance.node;t.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),e.parent=t,e.zIndex=301,this.winLiziNode=e},t.prototype.resumezWinLizizIndex=function(){var e=slot.MainView.instance.node.getChildByName("winLizi"),t=slot.MainView.instance.node.getChildByName("Scroller");t.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),e.parent=t,this.winLiziNode=e,this.winLiziNode.active=!1},t.prototype.closeWin=function(){this.winLiziNode.active=!1},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Normal,e,n)},t.prototype._playGreatRewardsAnimation=function(e,t){console.log("_playGreatRewardsAnimation---------"),this.changeWinLizizIndex();var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Great,e,n)},t.prototype._playMiddleRewardsAnimation=function(e,t){console.log("_playMiddleRewardsAnimation---------"),this.changeWinLizizIndex();var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Middle,e,n)},t.prototype._playSmallRewardsAnimation=function(e,t){console.log("_playSmallRewardsAnimation---------"),this.changeWinLizizIndex();var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Small,e,n)},t.prototype._onSpinSlotRender=function(){},t.prototype.handlePlayerChange=function(e,t){var n=this;if(this.uniteGrid&&0!=this.uniteGrid.length){for(var o=0;o<20;o++){var i=slot.SlotMachineView._instance.scroller.renders[o];8!=o&&9!=o&&10!=o&&11!=o||cc.tween(i).to(.2,{scale:1.15}).to(.1,{scale:1}).start();for(var a=0;a<this.uniteGrid.length;a++)if(o==this.uniteGrid[a].pos-1){var s=this.uniteGrid[a].elem,r=c.Shake.create(1,8,8);i.runAction(r),this.showPlayerChangeAni(i,s,a,t)}}slot.SoundMger.instance.playEffect("Play_Convert_Sound"),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Play_Convert_Over_Sound")},.8),this.playerChangeEffect.node.active=!0,this.playerChangeEffect.setAnimation(0,"zhuanghuan",!1),this.playerChangeEffect.timeScale=2.5,this.playerChangeEffect.setCompleteListener(function(){n.playerChangeEffect.setCompleteListener(null),n.playerChangeEffect.node.active=!1})}else t.run()},t.prototype.showPlayerAni=function(e,t){this.isPlaySound||(this.isPlaySound=!0),e.data=t,cc.tween(e).set({scale:.6}).to(.1,{scale:.8}).to(.1,{scale:1}).start()},t.prototype.playerEnd=function(e,t){e+1==this.uniteGrid.length&&t&&t.run()},t.prototype.showPlayerChangeAni=function(e,t,n,o){var i=this,a=new cc.Node;e.addEffectNode(a,!0),a.active=!0;var s=a.addComponent(sp.Skeleton);s.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME),game.ResLoader.getInstance().loadRes("skeleton/change/fx_zhuanhuan",sp.SkeletonData,function(r,c){if(r)return r;s.skeletonData=c,s.node.scale=2.3;var l=s.setAnimation(0,"animation",!1);s.setTrackEventListener(l,function(n,o){"qiehuan"==o.data.name&&i.showPlayerAni(e,t)}),s.setCompleteListener(function(){a.destroy(),i.playerEnd(n,o)})},slot.GData.bundleName)},t.prototype.changeScrollerTime=function(){1==this.firstFreeGame&&this.slotMachine.scroller.items.forEach(function(e){e.time=e.time+2e3}),1==this.isScatter_12&&this.slotMachine.scroller.items.forEach(function(e,t){4==t&&(e.time=e.time-2e3)})},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWin,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this.playSoundElement,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.playFullLine,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAYER_CHANGE,this.handlePlayerChange,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.closeWin,this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWin,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this.playSoundElement,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.playFullLine,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAYER_CHANGE,this.handlePlayerChange,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.restoreresp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this.spinresp,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.closeWin,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.onReEnterRoom,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.stopImmediatly,this)},t.prototype.playSoundElement=function(e,t){t&&(1==t||2==t||3==t||4==t||5==t?slot.SoundMger.instance.playEffect("Click_Normal_Sound",!1):6==t?slot.SoundMger.instance.playEffect("Click_Green_Sound",!1):7==t?slot.SoundMger.instance.playEffect("Click_Blue_Sound",!1):8==t?slot.SoundMger.instance.playEffect("Click_Purple_Sound",!1):9==t?slot.SoundMger.instance.playEffect("Click_Red_Sound",!1):10==t?slot.SoundMger.instance.playEffect("Click_Gold_Sound",!1):11==t?slot.SoundMger.instance.playEffect("Click_Scatter_Sound",!1):12==t&&slot.SoundMger.instance.playEffect("Click_Wild_Sound",!1))},t.prototype.showAni_bbk=function(e){this.xinxiNode.getChildByName("bannerBg").active=!1;var t=this.xinxiNode.getChildByName("bbk").getComponent(sp.Skeleton);switch(t.node.active=!0,e){case 1:t.setAnimation(0,"bbk_A-fadein",!1),t.setCompleteListener(function(){t.setAnimation(0,"bbk_A-loop",!0)});break;case 2:t.setAnimation(0,"bbk_B-fadein",!1),t.setCompleteListener(function(){t.setAnimation(0,"bbk_B-loop1",!0)});break;case 3:t.setAnimation(0,"bbk_B-loop2",!1),t.setCompleteListener(function(){t.setAnimation(0,"bbk_B-loop1",!0)});break;case 4:t.setAnimation(0,"bbk_A-loop",!0);break;case 5:t.setAnimation(0,"bbk_B-loop1",!0);break;default:t.node.active=!1}},t.prototype.hideAni_bbk=function(){this.xinxiNode.getChildByName("bbk").getComponent(sp.Skeleton).node.active=!1,this.xinxiNode.getChildByName("bannerBg").active=!0},t.prototype.updateWin=function(e,t){if(cc.log("=====win:",t),this.winCoin=t,t<=0)return this.bannerNode.active=!0,void game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,0);slot.SoundMger.instance.playEffect("Prize_Normal",!1),this.winNode.active=!0,cc.tween(this.winNode).to(0,{scale:.4}).to(.5,{scale:1.2},{easing:"quadOut"}).to(.2,{scale:1},{easing:"quadIn"}).start(),this.switchWinText(),this.bannerNode.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP),1==this.isRestore?(t>=5*slot.SpinManager.instance.betCost?this.showAni_bbk(5):this.showAni_bbk(4),this.winNode.children[1].getComponent("NumAtlasLabel111005801").string=slot.SlotUtils.formatNumber(t)):this.setWin5MoneyNum(t),slot.FreeGameManager.instance.hasFreeGame&&t>0&&game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_MULTIPLE)},t.prototype.setWin5MoneyNum=function(e){var t=this;e>=5*slot.SpinManager.instance.betCost?(slot.SoundMger.instance.playEffect("Prize_Scrolling",!1),this.showAni_bbk(2),this.win5Money=0,cc.tween(this).to(2,{win5Money:e}).call(function(){slot.SoundMger.instance.playEffect("Prize_Scrolling_Stop",!1),t.showAni_bbk(3)}).start()):(this.showAni_bbk(1),this.winNode.children[1].getComponent("NumAtlasLabel111005801").string=slot.SlotUtils.formatNumber(e))},Object.defineProperty(t.prototype,"win5Money",{get:function(){return this._win5Money},set:function(e){this._win5Money=e,this.winNode.children[1].getComponent("NumAtlasLabel111005801").string=slot.SlotUtils.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.addFreeSpinsAni=function(e,t,n){switch(t.type){case slot.OperationState.Free:n.run();break;case slot.OperationState.ReSpin:}},t.prototype.onInitFreeGame=function(e,t){switch(console.log("oniniffreegame",e),this.playFreeGameMusic(),this.sumtimes=e.times,e.times<e.sumTimes&&(p.default.instance.isNeedCardAni=!1),e.type){case slot.OperationState.Free:Number(this.winCoin)>0?(this.winNode.active=!0,this.switchWinText(),e.sumSpinCoin>5*slot.SpinManager.instance.betCost?this.showAni_bbk(5):this.showAni_bbk(4),this.winNode.children[1].getComponent("NumAtlasLabel111005801").string=slot.SlotUtils.formatNumber(this.winCoin),this.bannerNode.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP)):(this.winNode.active=!1,this.hideAni_bbk(),this.bannerNode.active=!0,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,this.nSelectedPlayerId)),slot.MainView.instance.node.getChildByName("gameControPrefab").active=!1,slot.MainView.instance.node.getChildByName("menu").active=!1,this.freeBottomNode.active=!0,0==e.times?this.freeBottomFinallyNode.active=!0:(this.freeBottomFinallyNode.active=!1,this.freeBottomNode.children[1].getComponent("NumAtlasLabel111005801").string=e.times.toString()),this.changeScorezIndex(),console.log("onInitFreeGame-------",this.nSelectedPlayerId,this.isNeedCardAni),game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_ROLE_NODE,{roleId:this.nSelectedPlayerId,isNeedCardAni:this.isNeedCardAni});break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){switch(console.log("onFreeGameTriggered",e),this.sumtimes=e.times,this.curFreeTimes=e.times,e.type){case slot.OperationState.Free:slot.SpinManager.instance.isInTurbo=!1,Number(e.sumSpinCoin)>0?(this.winNode.active=!0,this.switchWinText(),e.sumSpinCoin>5*slot.SpinManager.instance.betCost?this.showAni_bbk(5):this.showAni_bbk(4),this.winNode.children[1].getComponent("NumAtlasLabel111005801").string=slot.SlotUtils.formatNumber(e.sumSpinCoin),this.bannerNode.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP)):(this.winNode.active=!1,this.hideAni_bbk(),this.bannerNode.active=!0,this.nSelectedPlayerId=s.default.instance.nSelectedPlayerId,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,this.nSelectedPlayerId)),this.freeBottomNode.active=!0,this.freeBottomFinallyNode.active=!1,slot.MainView.instance.node.getChildByName("gameControPrefab").active=!1,slot.MainView.instance.node.getChildByName("menu").active=!1,this.freeBottomNode.children[1].getComponent("NumAtlasLabel111005801").string=e.times.toString();break;case slot.OperationState.ReSpin:}this.scheduleOnce(function(){t.runWith(!0)},1.5)},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.changeScorezIndex=function(){var e=slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.score),t=slot.MainView.instance.node.parent;t.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),e.parent=t,e.zIndex=101,e.setPosition(cc.v3(0,-642,0))},t.prototype.resumezScorezIndex=function(){var e=slot.MainView.instance.getNode(slot.MAIN_NODE_NAME.score);slot.MainView.instance.node.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),e.parent=slot.MainView.instance.node,e.zIndex=100,e.setPosition(cc.v3(0,-415,0))},t.prototype.onFreeGameOver=function(e,t){var n=this;switch(console.log("onFreeGameOver",e),this.resumezScorezIndex(),cc.Tween.stopAllByTarget(this),this.win5Money=this.winCoin,e.type){case slot.OperationState.Free:var o=slot.Handler.create(this,function(){slot.SoundMger.instance.stopMusic("FreeGame_Back_Music"),slot.SoundMger.instance.playMusic("Game_Back_Music",!0),slot.MainView.instance.node.getChildByName("gameControPrefab").active=!0,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_NECESSARY_ASSETS_LOADED),slot.MainView.instance.node.getChildByName("menu").active=!0,n.freeBottomNode.active=!1,n.freeBottomFinallyNode.active=!1,1==slot.GameControlBase.instance.fastBtnState?slot.SpinManager.instance.isInTurbo=!0:slot.SpinManager.instance.isInTurbo=!1,game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_OVER),n.scheduleOnce(function(){t.runWith(!0)},1),e.sumSpinCoin>0?(n.winNode.active=!0,n.switchWinText(!0),n.winNode.children[1].getComponent("NumAtlasLabel111005801").string=slot.SlotUtils.formatNumber(e.sumSpinCoin),e.sumSpinCoin>5*slot.SpinManager.instance.betCost?n.showAni_bbk(5):n.showAni_bbk(4),n.bannerNode.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP)):(n.winNode.active=!1,n.bannerNode.active=!0,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,0),n.hideAni_bbk())});game.UIManager.getInstance().open(l.UIID.FREE_GAME_RESULT,[o,e.sumSpinCoin]);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e){switch(console.log("onFreeGameTriggerAgain",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTimesUpdated=function(e){cc.log("onFreeGameTimesUpdated.nowTimes:",e,this.sumtimes);var t=this.sumtimes-e;if(this.curFreeTimes=e,this.isRestoreFree||(null==this.restoreResult.state.freeData?this.nSelectedPlayerId=s.default.instance.nSelectedPlayerId:this.nSelectedPlayerId=this.arrSelectIdByServerId[this.restoreResult.state.freeData.id]),t&&1==t&&this.sumtimes==this.arrFreeTimesById[this.nSelectedPlayerId-1]){var n="#FFD100";switch(this.nSelectedPlayerId){case 1:n="#FFD100";break;case 2:n="#FF1900";break;case 3:n="#FF14CC";break;case 4:n="#0075FF";break;case 5:n="#5FFF6F"}this.scrollerEffect.active=!0,this.scrollerMask.active=!0;for(var o=0,i=this.scrollerEffect.children;o<i.length;o++)i[o].color=cc.Color.WHITE.fromHEX(n);this.isRestoreFree=!1}else this.scrollerMask.active=!1,this.scrollerEffect.active=!1;this.freeBottomNode.children[1].getComponent("NumAtlasLabel111005801").string=e.toString(),0==e&&(this.freeBottomNode.active=!1,this.freeBottomFinallyNode.active=!0)},t.prototype.onBonusGameTriggered=function(e,t){if(console.log("isActiveRestore-----\x3e>>",this.isActiveRestore),slot.SoundMger.instance.playEffect("Sctter1"),t.runWith(!0),console.log("onBonusGameTriggered",e,this.isRestoreBonus),this.isRestoreBonus&&1==this.isRestoreBonus&&this.isScatter_123&&1==this.isScatter_123)for(var o=0;o<this.scroller.items.length;o++)n.instance.checkScatterBox(!0,o);this.bannerNode.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0)},t.prototype.showBounsGamePrefab=function(){this.bounsGamePrefabNode=cc.instantiate(this.bounsGamePrefab),cc.Canvas.instance.node.addChild(this.bounsGamePrefabNode,slot.LayerManage.effect),this.bounsGamePrefabNode.active=!0},t.prototype.hideBounsGamePrefab=function(){this.bounsGamePrefabNode&&(this.bounsGamePrefabNode.active=!1),cc.Canvas.instance.node.removeChild(this.bounsGamePrefabNode)},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=e,this.freeBottomNode.children[1].getComponent("NumAtlasLabel111005801").string=Math.floor(e).toString()},enumerable:!1,configurable:!0}),t.prototype.checkScatterBox=function(e,t){if(e&&1==e)for(var n=this.scroller.items[t],o=0;o<n.items.length;o++)11==(a=n.items[o]).data&&a.active&&a._showDikuang();else{n=this.scroller.items[t];for(var i=0;i<n.items.length;i++){var a;(a=n.items[i])._redDiKuang&&a._recoverDiKuang()}}},t.prototype.checkScatterBoom=function(e){for(var t=this.scroller.items[e],n=0;n<t.items.length;n++){var o=t.items[n];o._boomNode&&o._recoverBoomAni()}},a([y({type:cc.Node,tooltip:"\u8d62\u5f97\u591a\u5c11"})],t.prototype,"winNode",void 0),a([y({type:cc.Node,tooltip:"\u514d\u8d39\u6e38\u620f\u91cc\u7684\u5269\u4f59\u6b21\u6570"})],t.prototype,"freeBottomNode",void 0),a([y({type:cc.Node,tooltip:"\u514d\u8d39\u6e38\u620f\u91cc\u7684\u6700\u540e\u4e00\u6b21"})],t.prototype,"freeBottomFinallyNode",void 0),a([y({type:cc.Node,tooltip:"\u4fe1\u606f\u680f\u5e95\u6846"})],t.prototype,"xinxiNode",void 0),a([y({type:cc.Node,tooltip:"\u8dd1\u9a6c\u706f\u8282\u70b9"})],t.prototype,"bannerNode",void 0),a([y({type:cc.Node,tooltip:"\u4fe1\u606f\u680f\u5e95\u6846"})],t.prototype,"fiveEvenNode",void 0),a([y({type:cc.Node,tooltip:"\u6eda\u8f74\u5149\u6548\u8282\u70b9"})],t.prototype,"scrollerEffect",void 0),a([y({type:cc.Node,tooltip:"\u6eda\u8f74\u5149\u6548\u8282\u70b9\u906e\u7f69"})],t.prototype,"scrollerMask",void 0),a([y({type:sp.Skeleton,tooltip:"\u7403\u5458\u8f6c\u6362\u6a21\u5f0f\u5149\u6548"})],t.prototype,"playerChangeEffect",void 0),a([y({type:cc.Node,tooltip:"\u5927\u5956\u52a8\u753b\u7c92\u5b50\u8282\u70b9"})],t.prototype,"winLiziNode",void 0),a([y({type:cc.Prefab,tooltip:"\u5c0f\u6e38\u620f\u9009\u62e9\u7403\u5458\u754c\u9762 \u9884\u5236"})],t.prototype,"bounsGamePrefab",void 0),n=a([_],t)}(slot.AbstractMainView);n.default=m,cc._RF.pop()},{"../bonusGame/BonusGame111005801":"BonusGame111005801","../common/GameEventName111005801":"GameEventName111005801","../common/Shake":"Shake","../main/Main111005801":"Main111005801","./GameRoller111005801":"GameRoller111005801","./scrollerSkins/GameLogic111005801":"GameLogic111005801","./scrollerSkins/JTChildManager111005801":"JTChildManager111005801","./scrollerSkins/JTLayerManager111005801":"JTLayerManager111005801"}],GameLogic111005801:[function(e,t,n){"use strict";cc._RF.push(t,"14eb1qb8KZJSLcAJUFLPng2","GameLogic111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./JTContrlPlayerChange111005801"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(s.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1)},a([c],t)}(slot.JTLogicFactroy));n.default=l,cc._RF.pop()},{"./JTContrlPlayerChange111005801":"JTContrlPlayerChange111005801"}],GameRoller111005801:[function(e,t,n){"use strict";cc._RF.push(t,"72a53/MmPxGSYwZqThu/8oT","GameRoller111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/GameEventName111005801"),r=e("../freeGame/BonusRoler111005801"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeGameRoleNode=null,t.winNode=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){this.addEventListener(),n.instance=this},t.prototype.onDestroy=function(){this.removeEventListener()},t.prototype.addEventListener=function(){game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_ROLE_NODE,this.onFreeGameRoleNode,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_SPIN_BEGIN,this.onFreeGameSpinBegin,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_SPIN_STOP,this.onFreeGameSpinStop,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_OVER,this.onFreeGameOver,this)},t.prototype.removeEventListener=function(){game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_ROLE_NODE,this.onFreeGameRoleNode,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_SPIN_BEGIN,this.onFreeGameSpinBegin,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_SPIN_STOP,this.onFreeGameSpinStop,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_OVER,this.onFreeGameOver,this)},t.prototype.onFreeGameOver=function(){console.log("onFreeGameOver-----------\x3e"),this.freeGameRoleNode.active=!1,this.freeGameRoleNode.removeAllChildren()},t.prototype.onFreeGameRoleNode=function(e,t){var n=this;cc.log("=====onFreeGameRoleNode"),this.freeGameRoleNode.active=!0,game.ResLoader.getInstance().loadRes("prefabs/freeGame/bonusRoler",cc.Prefab,function(e,o){if(e)return e;var i=cc.instantiate(o);n.freeGameRoleNode.addChild(i,1),i.setPosition(0,410),i.getComponent(r.default).init(t.roleId,t.isNeedCardAni)},slot.GData.bundleName)},t.prototype.onFreeGameSpinBegin=function(){slot.SoundMger.instance.playEffect("general_audio5",!1)},t.prototype.onFreeGameSpinStop=function(){},t.instance=null,a([p(cc.Node)],t.prototype,"freeGameRoleNode",void 0),a([p({type:cc.Node,tooltip:"\u8d62\u5f97\u591a\u5c11"})],t.prototype,"winNode",void 0),n=a([l],t)}(slot.BaseView);n.default=u,cc._RF.pop()},{"../common/GameEventName111005801":"GameEventName111005801","../freeGame/BonusRoler111005801":"BonusRoler111005801"}],JTChildManager111005801:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111005801"),s=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=s,cc._RF.pop()},{"../SpinSlotViewExtend111005801":"SpinSlotViewExtend111005801"}],JTContrlPlayerChange111005801:[function(e,t,n){"use strict";cc._RF.push(t,"b188fh+3tRBG6yD3Vo2KlWW","JTContrlPlayerChange111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/GameEventName111005801"),s=cc._decorator,r=(s.ccclass,s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runningTask=function(){e.prototype.runningTask.call(this),game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_PLAYER_CHANGE,slot.Handler.create(this,this.complete))},t.prototype.complete=function(){console.log("JTContrlPlayerChange111005801-----complete"),e.prototype.complete.call(this)},t}(slot.JTParseTask));n.default=r,cc._RF.pop()},{"../../common/GameEventName111005801":"GameEventName111005801"}],JTLayerManager111005801:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameLayer111005801"),s=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,n);var o=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e);var i=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e),s=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e),r=this.addChildNode(t.FRAME_IMAGE_CONTAINER,e);a.default.instance.xinxiNode.removeFromParent(),r.addChild(a.default.instance.xinxiNode);var c=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e);this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e);var l=this.addChildNode(t.PLAYERCHANGE_NODE_LAYER,e),p=a.default.instance.playerChangeEffect.node,u=p.parent.convertToWorldSpaceAR(cc.v2(p.x,p.y)),d=l.convertToNodeSpaceAR(u);p.removeFromParent(),p.setPosition(d),l.addChild(p),n.launch(e),s.setup(e.config.getWidth(),e.config.getHeight(),160),o.setup(e.config.getWidth(),e.config.getHeight(),100),c.setupMask(e.config.getWidth(),e.config.getHeight()),i.setupMask(e.config.getWidth(),e.config.getHeight())},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(t.PLAYERCHANGE_NODE_LAYER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t.PLAYERCHANGE_NODE_LAYER=601,t}(slot.JTLayerFactory);n.default=s,cc._RF.pop()},{"../GameLayer111005801":"GameLayer111005801"}],LanguageInfo111005801:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([r],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111005801:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111005801");var o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var r,c=e("../roller/WinAnimanager111006501"),l=cc._decorator,p=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return c.default},s([p],t)}(slot.MainView));n.default=u,function(e){e[e.BONUS_GAME_POPUP=1e4]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=10001]="FREE_GAME_RESULT"}(r=n.UIID||(n.UIID={})),n.UICF=((i={})[r.BONUS_GAME_POPUP]={bundleName:"game_111005801",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[r.FREE_GAME_RESULT]={bundleName:"game_111005801",path:"prefabs/freeGame/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{"../roller/WinAnimanager111006501":"WinAnimanager111006501"}],NumAtlasLabel111005801:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([r],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ParticleSpriteFramesRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"8f56b10Ts5LHIRmcD7TYGcD","ParticleSpriteFramesRefresh");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return i(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},a([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([r],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Shake:[function(e,t,n){"use strict";cc._RF.push(t,"ab0a8XpHqtFnaGVJ3SNeklZ","Shake");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.Shake=void 0;var s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._initial_x=0,t._initial_y=0,t._strength_x=0,t._strength_y=0,t}var n;return i(t,e),n=t,t.create=function(e,t,o){var i=new n;return i.initWithDuration(e,t,o),i},t.prototype.initWithDuration=function(e,t,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=t,this._strength_y=n,!0},t.prototype.fgRangeRand=function(e,t){return Math.random()*(t-e)+e},t.prototype.update=function(){var e=this.fgRangeRand(-this._strength_x,this._strength_x),t=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(e+this._initial_x,t+this._initial_y)},t.prototype.startWithTarget=function(e){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=e.x,this._initial_y=e.y},t.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},n=a([r],t)}(cc.ActionInterval));n.Shake=c,cc._RF.pop()},{}],SpinSlotViewExtend111005801:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111005801");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._redDiKuang=null,t._boomNode=null,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=.7,t}return i(t,e),t.prototype.onPlayAnimation=function(){var e=this;this.index>=0&&this.index<4&&slot.SoundMger.instance.playEffect("main_game_audio7",!1),this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win"),this.skinLoader.skeletonNode.getComponent(sp.Skeleton).setCompleteListener(function(){e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win_idle")})},t.prototype.onRollEnd=function(){var e=this;12==this.data?(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn"),this.skinLoader.skeletonNode.getComponent(sp.Skeleton).setCompleteListener(function(){e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),e.skinLoader.skeletonNode.scale=.7})):11==this.data&&(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win"),this.skinLoader.skeletonNode.getComponent(sp.Skeleton).setCompleteListener(function(){e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),e.skinLoader.skeletonNode.scale=.7}))},t.prototype.onPlayIdleAnimaition=function(){12!=this.data&&11!=this.data||this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle")},t.prototype.onStopAnimation=function(){},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype._getRewardsAnimation=function(){},Object.defineProperty(t.prototype,"redDiKuang",{get:function(){return this._redDiKuang=this.getChildByName("redDiKuang"),this._redDiKuang},enumerable:!1,configurable:!0}),t.prototype._showDikuang=function(){if(this._redDiKuang||(this._redDiKuang=this._getDikuang()),this._redDiKuang.active=!0,this.addEffectNode(this._redDiKuang,!1),this._redDiKuang.y=0,this._redDiKuang.x=0,this._redDiKuang.scale=.7,this._slotFrameAniView)return this._slotFrameAniView;this._slotFrameAniView=new cc.Node;var e=this._slotFrameAniView.addComponent(slot.AnimationExtend),t=new slot.AniParam(slot.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,"textures/altas/lizi/duobaofuhaotexiao",slot.GData.bundleName,"animation",18);e.init(t),e.node.getComponent(cc.Sprite).dstBlendFactor=cc.macro.ONE,e.play("animation",!0),this._slotFrameAniView.scale=3,this._redDiKuang.addChild(this._slotFrameAniView)},t.prototype._getDikuang=function(){if(this._redDiKuang)return this._redDiKuang;this._redDiKuang=new cc.Node,this._redDiKuang.name="redDiKuang";var e=this._redDiKuang.addComponent(cc.Sprite);return game.ResLoader.getInstance().loadRes("textures/bg/mainbg",cc.SpriteAtlas,function(t,n){if(t)return t;e.spriteFrame=n.getSpriteFrame("scatter_vfx_a")},slot.GData.bundleName),this._redDiKuang},t.prototype._recoverDiKuang=function(){cc.log("=====\u56de\u6536 \u5206\u6563\u7684\u5e95\u6846"),this._redDiKuang&&(this._redDiKuang.removeFromParent(),this._redDiKuang.active=!1,this._redDiKuang=null)},t.prototype.showBoomAni=function(){var e=this;console.log("showBoomAni----------\x3e"),this._boomNode=new cc.Node,this._boomNode.active=!0,this.addEffectNode(this._boomNode,!1);var t=this._boomNode.addComponent(slot.AnimationExtend),n=8;1==slot.SpinManager.instance.isInTurbo&&(n=24);var o=new slot.AniParam(slot.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,"textures/altas/lizi/mianfeiyouxixuanzeqiuyuanguangquan",slot.GData.bundleName,"animation",n);t.init(o),t.node.getComponent(cc.Sprite).dstBlendFactor=cc.macro.ONE,this._boomNode.scale=2;var i=slot.Handler.create(this,function(){e._boomNode.destroy()});t.play("animation",!1,i)},t.prototype._recoverBoomAni=function(){cc.log("=====\u56de\u6536 \u5206\u6563\u7684\u5149\u6548"),this._boomNode&&(this._boomNode.removeFromParent(),this._boomNode.active=!1,this._boomNode=null)},t._rewardsView=null,t}(slot.SpinSlotView);n.default=a,cc._RF.pop()},{}],WinAnimanager111006501:[function(e,t,n){"use strict";cc._RF.push(t,"bdbfccMHkBK1LxAXUurkKwZ","WinAnimanager111006501");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./GameLayer111005801"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.playWinTextFadeIn=function(e,t){e.x;var n=this.node.getChildByName("customBigWin");return n||((n=s.default.instance.node.getChildByName("customBigWin")).parent=this.node,n.active=!0,n.zIndex=1e3),n.children[1].active=t>slot.WinAniType.Small,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,e),e.getSiblingIndex(),null},t.prototype.onStageChange=function(){},t.prototype.stopCoin=function(){game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END);var e=slot.WinAniManager.instance.winTextLayer.children.slice().reverse().find(function(e){return e.active}),t=0;slot.WinAniManager.instance.winTextLayer.children.forEach(function(n,o){n.anchorY=0,n.active=n==e,n.active&&(t=o)}),this.node.getChildByName("customBigWin").children[1].active=t>0},t.prototype.onPlayFinalAnimation=function(){this.stopCoin()},t.prototype.onCoinIncreaseEnd=function(){this.stopCoin()},a([c],t)}(slot.WinAniManager));n.default=l,cc._RF.pop()},{"./GameLayer111005801":"GameLayer111005801"}]},{},["BonusGame111005801","Banner111005801","GameEventName111005801","NumAtlasLabel111005801","ParticleSpriteFramesRefresh","Shake","BonusRoler111005801","FreeGameResult11005801","GameBg111005801","LanguageInfo111005801","Main111005801","GameLayer111005801","GameRoller111005801","SpinSlotViewExtend111005801","WinAnimanager111006501","GameLogic111005801","JTChildManager111005801","JTContrlPlayerChange111005801","JTLayerManager111005801"]);